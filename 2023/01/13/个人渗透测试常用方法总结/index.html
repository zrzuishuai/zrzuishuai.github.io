<!DOCTYPE html>
<html lang="zh-CN">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  <link rel="icon" href="">
  <title>个人渗透测试常用方法总结 | Love is a Moment Story</title>
  <meta name="author" content="zhang rui" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="" />
  
  <meta name="description" content="一、渗透流程  信息收集 漏洞验证&#x2F;漏洞攻击 提权，权限维持 日志清理  信息收集一般先运行端口扫描和漏洞扫描获取可以利用的漏洞。多利用搜索引擎 端口扫描有授权的情况下直接使用 nmap 、masscan 、自己写py脚本等端口扫描工具直接获取开放的端口和获取服务端的 banner 信息。使用 Python 端口扫描的介绍https:&#x2F;&#x2F;thief.one&#x2F;2018&#x2F;05&#x2F;17&#x2F;1&#x2F;?hmsr&#x3D;t">
<meta property="og:type" content="article">
<meta property="og:title" content="个人渗透测试常用方法总结">
<meta property="og:url" content="http://example.com/2023/01/13/%E4%B8%AA%E4%BA%BA%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="Love is a Moment Story">
<meta property="og:description" content="一、渗透流程  信息收集 漏洞验证&#x2F;漏洞攻击 提权，权限维持 日志清理  信息收集一般先运行端口扫描和漏洞扫描获取可以利用的漏洞。多利用搜索引擎 端口扫描有授权的情况下直接使用 nmap 、masscan 、自己写py脚本等端口扫描工具直接获取开放的端口和获取服务端的 banner 信息。使用 Python 端口扫描的介绍https:&#x2F;&#x2F;thief.one&#x2F;2018&#x2F;05&#x2F;17&#x2F;1&#x2F;?hmsr&#x3D;t">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/null">
<meta property="article:published_time" content="2023-01-13T09:22:34.000Z">
<meta property="article:modified_time" content="2023-01-13T09:27:51.470Z">
<meta property="article:author" content="zhang rui">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/null">
<meta name="twitter:site" content="@null">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" type="text/css" media="all">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-dark.min.css" type="text/css" media="all">
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
      .kratos-cover.kratos-cover-2 {
        background-image: url('/images/banner.webp');
      }
    
    
      @media(min-width:768px) {
        body.custom-background {
          background-image: url('/images/bg.webp');
        }
      }
    
  </style>
  
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Love is a Moment Story" type="application/atom+xml">
</head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li>
                                    
                                
                                    
                                        <li><a href="/coffee/"><i class="fa fa-coffee"></i>生活日常</a></li>
                                    
                                
                                    
                                        <li><a href="/friends/"><i class="fa fa-paw"></i>好伙伴</a></li>
                                    
                                
                                    
                                        <li>
                                            <a><i class="fa fa-paper-plane"></i>关于我</a>
                                            <ul class="sub-menu">
                                                
                                                    
                                                
                                                    
                                                        <li><a href="/about/">自我介绍</a></li>
                                                    
                                                
                                                    
                                                        <li><a target="_blank" rel="noopener" href="https://zr-blog.github.io/">作者博客</a></li>
                                                    
                                                
                                                    
                                                        <li><a target="_blank" rel="noopener" href="https://github.com/zr-blog">项目链接</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">Love is a Moment Story</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>Love is a Moment Story</h2> <br />
                        <span>im very vegatable and very poor</span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article>
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center">个人渗透测试常用方法总结</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><i class="fa fa-calendar"></i> 2023-01-13</li>
                <li><i class="fa fa-user"></i> 作者 zhang rui</li>
                <li>
                    <i class="fa fa-edit"></i> 
                    
                    
                        ~17.28K
                    
                    字
                </li>
                
            </ul>
        </header>
        <div class="kratos-post-content">
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                本文最后编辑于 <time datetime="1673602071470"></time> 前，其中的内容可能需要更新。
            </div>
            
                <div class="kratos-post-inner-toc">
                    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.</span> <span class="toc-text">信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-number">1.1.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F"><span class="toc-number">1.2.</span> <span class="toc-text">端口扫描</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-1"><span class="toc-number">1.3.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F"><span class="toc-number">1.4.</span> <span class="toc-text">漏洞扫描</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-2"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%BC%8F%E6%B4%9E%E6%94%BB%E5%87%BB"><span class="toc-number"></span> <span class="toc-text">二、漏洞攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Web%E5%BA%94%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">2.1 Web应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-3"><span class="toc-number">2.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-Web-%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">2.1.2 Web 中间件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89Tomcat"><span class="toc-number">3.1.</span> <span class="toc-text">（1）Tomcat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-4"><span class="toc-number">3.2.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89-Jboss"><span class="toc-number">3.3.</span> <span class="toc-text">（2） Jboss</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-5"><span class="toc-number">3.4.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89WebLogic"><span class="toc-number">3.5.</span> <span class="toc-text">（3）WebLogic</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-6"><span class="toc-number">3.6.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89-WebSphere"><span class="toc-number">3.7.</span> <span class="toc-text">（4） WebSphere</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89-Glassfish"><span class="toc-number">3.8.</span> <span class="toc-text">（5） Glassfish</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-7"><span class="toc-number">4.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-Web-%E6%A1%86%E6%9E%B6"><span class="toc-number">5.</span> <span class="toc-text">2.1.3 Web 框架</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89-Struts2"><span class="toc-number">5.1.</span> <span class="toc-text">（1） Struts2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-8"><span class="toc-number">5.2.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89Spring-%E6%A1%86%E6%9E%B6"><span class="toc-number">5.3.</span> <span class="toc-text">（2）Spring 框架</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-9"><span class="toc-number">6.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-4-Web-%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">7.</span> <span class="toc-text">2.1.4 Web 服务器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%B8%B8%E8%A7%81%E8%BF%90%E7%BB%B4%E7%B3%BB%E7%BB%9F"><span class="toc-number"></span> <span class="toc-text">2.2 常见运维系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-Gitlab"><span class="toc-number">1.</span> <span class="toc-text">2.2.1 Gitlab</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-10"><span class="toc-number">2.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-Jenkins"><span class="toc-number">3.</span> <span class="toc-text">2.2.2 Jenkins</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-11"><span class="toc-number">4.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-Puppet"><span class="toc-number">5.</span> <span class="toc-text">2.2.3 Puppet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-12"><span class="toc-number">6.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-Ansible"><span class="toc-number">7.</span> <span class="toc-text">2.2.4 Ansible</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-13"><span class="toc-number">8.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-5-Nagios"><span class="toc-number">9.</span> <span class="toc-text">2.2.5 Nagios</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-14"><span class="toc-number">10.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-6-Zabbix"><span class="toc-number">11.</span> <span class="toc-text">2.2.6 Zabbix</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-15"><span class="toc-number">12.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-7-Cacit"><span class="toc-number">13.</span> <span class="toc-text">2.2.7 Cacit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-16"><span class="toc-number">14.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-8-Splunk"><span class="toc-number">15.</span> <span class="toc-text">2.2.8 Splunk</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-17"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E5%B8%B8%E8%A7%81-Web-%E5%BA%94%E7%94%A8"><span class="toc-number"></span> <span class="toc-text">2.3 常见 Web 应用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-%E9%82%AE%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.</span> <span class="toc-text">2.3.1 邮件系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-18"><span class="toc-number">2.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-CMS-%E5%BA%94%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">2.3.2 CMS 应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-19"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E6%95%B0%E6%8D%AE%E5%BA%93-%E7%BC%93%E5%AD%98-%E6%B6%88%E6%81%AF%E6%9C%8D%E5%8A%A1"><span class="toc-number"></span> <span class="toc-text">2.4 数据库&#x2F;缓存&#x2F;消息服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">2.4.1 MySQL数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-20"><span class="toc-number">2.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-MSSQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.</span> <span class="toc-text">2.4.2 MSSQL数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-21"><span class="toc-number">4.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3-Oracle%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.</span> <span class="toc-text">2.4.3 Oracle数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-22"><span class="toc-number">6.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-4-PostgreSQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">7.</span> <span class="toc-text">2.4.4 PostgreSQL数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-23"><span class="toc-number">8.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-5-MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">9.</span> <span class="toc-text">2.4.5 MongoDB数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-24"><span class="toc-number">10.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-6-Redis%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">11.</span> <span class="toc-text">2.4.6 Redis数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-25"><span class="toc-number">12.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-7-SysBase%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">13.</span> <span class="toc-text">2.4.7 SysBase数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-26"><span class="toc-number">14.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-8-DB2-%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">15.</span> <span class="toc-text">2.4.8 DB2 数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-27"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1-%E5%8D%8F%E8%AE%AE"><span class="toc-number"></span> <span class="toc-text">2.5 常见服务&#x2F;协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-FTP-%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.</span> <span class="toc-text">2.5.1 FTP 服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-28"><span class="toc-number">2.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2-NFS-%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.</span> <span class="toc-text">2.5.2 NFS 服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-29"><span class="toc-number">4.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-3-Samba%E6%9C%8D%E5%8A%A1"><span class="toc-number">5.</span> <span class="toc-text">2.5.3 Samba服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-30"><span class="toc-number">6.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-4-SSH-%E6%9C%8D%E5%8A%A1"><span class="toc-number">7.</span> <span class="toc-text">2.5.4 SSH 服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-31"><span class="toc-number">8.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-5-Telnet-%E6%9C%8D%E5%8A%A1"><span class="toc-number">9.</span> <span class="toc-text">2.5.5 Telnet 服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-32"><span class="toc-number">10.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-6-Windows-%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="toc-number">11.</span> <span class="toc-text">2.5.6 Windows 远程连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-33"><span class="toc-number">12.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-7-VNC%E6%9C%8D%E5%8A%A1"><span class="toc-number">13.</span> <span class="toc-text">2.5.7 VNC服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-34"><span class="toc-number">14.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-8-SMTP%E5%8D%8F%E8%AE%AE"><span class="toc-number">15.</span> <span class="toc-text">2.5.8 SMTP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-35"><span class="toc-number">16.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-9-POP3%E5%8D%8F%E8%AE%AE"><span class="toc-number">17.</span> <span class="toc-text">2.5.9 POP3协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-36"><span class="toc-number">18.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-10-DNS%E6%9C%8D%E5%8A%A1"><span class="toc-number">19.</span> <span class="toc-text">2.5.10 DNS服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-37"><span class="toc-number">20.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-11-IMAP%E5%8D%8F%E8%AE%AE"><span class="toc-number">21.</span> <span class="toc-text">2.5.11 IMAP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-38"><span class="toc-number">22.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-12-SNMP%E5%8D%8F%E8%AE%AE"><span class="toc-number">23.</span> <span class="toc-text">2.5.12 SNMP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-39"><span class="toc-number">24.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-13-DHCP%E6%9C%8D%E5%8A%A1"><span class="toc-number">25.</span> <span class="toc-text">2.5.13 DHCP服务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E4%BA%91%E7%8E%AF%E5%A2%83"><span class="toc-number"></span> <span class="toc-text">2.6 云环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-1-VMware"><span class="toc-number">1.</span> <span class="toc-text">2.6.1 VMware</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-40"><span class="toc-number">2.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-2-OpenStack"><span class="toc-number">3.</span> <span class="toc-text">2.6.2 OpenStack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-3-Docker"><span class="toc-number">4.</span> <span class="toc-text">2.6.3 Docker</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-%E5%A4%A7%E6%95%B0%E6%8D%AE"><span class="toc-number"></span> <span class="toc-text">2.7 大数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-1-Elsaticsearch"><span class="toc-number">1.</span> <span class="toc-text">2.7.1 Elsaticsearch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-41"><span class="toc-number">2.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-2-hadoop"><span class="toc-number">3.</span> <span class="toc-text">2.7.2 hadoop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-42"><span class="toc-number">4.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-3-Hive"><span class="toc-number">5.</span> <span class="toc-text">2.7.3 Hive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-43"><span class="toc-number">6.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-4-Sqoop"><span class="toc-number">7.</span> <span class="toc-text">2.7.4 Sqoop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-44"><span class="toc-number">8.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-5-HBase"><span class="toc-number">9.</span> <span class="toc-text">2.7.5 HBase</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-45"><span class="toc-number">10.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-6-Spark"><span class="toc-number">11.</span> <span class="toc-text">2.7.6 Spark</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%8F%90%E6%9D%83%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81"><span class="toc-number"></span> <span class="toc-text">三、提权权限维持</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E6%8F%90%E6%9D%83"><span class="toc-number"></span> <span class="toc-text">3.1 提权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2%E5%BB%BA%E7%AB%8B%E5%90%8E%E9%97%A8-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91"><span class="toc-number"></span> <span class="toc-text">3.2建立后门&#x2F;端口转发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-46"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">3.3 传输文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-1-%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85"><span class="toc-number">1.</span> <span class="toc-text">3.3.1 文件打包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-47"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E5%88%B6%E4%BD%9C%E5%90%8E%E9%97%A8-%E6%9C%A8%E9%A9%AC%E7%A8%8B%E5%BA%8F"><span class="toc-number"></span> <span class="toc-text">3.4 制作后门&#x2F;木马程序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-48"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%97%A5%E5%BF%97%E6%B8%85%E7%90%86"><span class="toc-number"></span> <span class="toc-text">四、日志清理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-49"><span class="toc-number"></span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E5%B7%A5%E5%85%B7%E5%92%8C%E5%85%B6%E4%BB%96"><span class="toc-number"></span> <span class="toc-text">5 工具和其他</span></a>
                </div>
            
            <hr />
            <p><strong>一、渗透流程</strong></p>
<ol>
<li>信息收集</li>
<li>漏洞验证/漏洞攻击</li>
<li>提权，权限维持</li>
<li>日志清理</li>
</ol>
<h3 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a><strong>信息收集</strong></h3><p>一般先运行端口扫描和漏洞扫描获取可以利用的漏洞。多利用搜索引擎</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a><strong>端口扫描</strong></h4><p>有授权的情况下直接使用 nmap 、masscan 、自己写py脚本等端口扫描工具直接获取开放的端口和获取服务端的 banner 信息。使用 Python 端口扫描的介绍<a target="_blank" rel="noopener" href="https://thief.one/2018/05/17/1/?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.ioWindows">https://thief.one/2018/05/17/1/?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.ioWindows</a> 下基于 Powershell 的端口扫描脚本。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/BornToBeRoot/PowerShell_IPv4PortScanner/tree/master/Scripts">https://github.com/BornToBeRoot/PowerShell_IPv4PortScanner/tree/master/Scripts</a></p>
<h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><h4 id="漏洞扫描"><a href="#漏洞扫描" class="headerlink" title="漏洞扫描"></a><strong>漏洞扫描</strong></h4><p>使用Nessus、awvs等漏扫工具直接扫描目标，可以直接看到存活主机和主机的漏洞情况。</p>
<h2 id="-2"><a href="#-2" class="headerlink" title=""></a></h2><h2 id="二、漏洞攻击"><a href="#二、漏洞攻击" class="headerlink" title="二、漏洞攻击"></a><strong>二、漏洞攻击</strong></h2><p>如果只是使用端口扫描，只是发现开放的端口，在获取 banner 信息后需要在漏洞库（seebug，ExploitDB ）上查找对应 CVE，后面就是验证漏洞是否存在。安全检查一般是尽可能的发现所有漏洞，对漏洞的风险进行评估和修复。入侵的话只关注高危远程代码执行和敏感信息泄露漏洞等可以直接利用的漏洞。漏洞验证可以找对应的 CVE 编号的 POC、EXP，利用代码在 ExploitDB 、seebug上查看或者在 github 上搜索是否有相关的漏洞验证或利用的工具。</p>
<h3 id="2-1-Web应用"><a href="#2-1-Web应用" class="headerlink" title="2.1 Web应用"></a><strong>2.1 Web应用</strong></h3><p>可以直接寻找注入、上传、代码执行、文件包含、跨站脚本、等漏洞，来进行攻击。一般可以使用 AWVS 直接扫描常见漏洞。</p>
<h3 id="-3"><a href="#-3" class="headerlink" title=""></a></h3><h3 id="2-1-2-Web-中间件"><a href="#2-1-2-Web-中间件" class="headerlink" title="2.1.2 Web 中间件"></a><strong>2.1.2 Web 中间件</strong></h3><h4 id="（1）Tomcat"><a href="#（1）Tomcat" class="headerlink" title="（1）Tomcat"></a><strong>（1）Tomcat</strong></h4><p>Tomcat是Apache Jakarta软件组织的一个子项目，Tomcat是一个JSP/Servlet容器，它是在SUN公司的JSWDK（Java Server Web Development Kit）基础上发展起来的一个JSP和Servlet规范的标准实现，使用Tomcat可以体验JSP和Servlet的最新规范。</p>
<ul>
<li><p>端口号：8080</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>默认口令、弱口令，爆破，tomcat5 默认有两个角色：tomcat和role1。其中账号both、tomcat、role1的默认密码都是tomcat。弱口令一般存在5以下的版本中。</li>
<li>在管理后台部署 war 后门文件</li>
<li>远程代码执行漏洞</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://paper.seebug.org/399/">https://paper.seebug.org/399/</a></li>
<li><a target="_blank" rel="noopener" href="http://www.freebuf.com/column/159200.html">http://www.freebuf.com/column/159200.html</a></li>
<li><a target="_blank" rel="noopener" href="http://liehu.tass.com.cn/archives/836">http://liehu.tass.com.cn/archives/836</a></li>
<li><a target="_blank" rel="noopener" href="http://www.mottoin.com/87173.html">http://www.mottoin.com/87173.html</a></li>
</ul>
</li>
</ul>
<h4 id="-4"><a href="#-4" class="headerlink" title=""></a></h4><h4 id="（2）-Jboss"><a href="#（2）-Jboss" class="headerlink" title="（2） Jboss"></a><strong>（2） Jboss</strong></h4><p>是一个运行EJB的J2EE应用服务器。它是开放源代码的项目，遵循最新的J2EE规范。从JBoss项目开始至今，它已经从一个EJB容器发展成为一个基于的 J2EE 的一个Web 操作系统（operating system for web），它体现了 J2EE 规范中最新的技术。</p>
<ul>
<li><p>端口：8080</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>弱口令，爆破</li>
<li>管理后台部署 war 后门</li>
<li>反序列化</li>
<li>远程代码执行</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://www.vuln.cn/6300">http://www.vuln.cn/6300</a></li>
<li><a target="_blank" rel="noopener" href="http://mobile.www.cnblogs.com/Safe3/archive/2010/01/08/1642371.html">http://mobile.www.cnblogs.com/Safe3/archive/2010/01/08/1642371.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zybuluo.com/websec007/note/838374">https://www.zybuluo.com/websec007/note/838374</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011215939/article/details/79141624">https://blog.csdn.net/u011215939/article/details/79141624</a></li>
</ul>
</li>
</ul>
<h4 id="-5"><a href="#-5" class="headerlink" title=""></a></h4><h4 id="（3）WebLogic"><a href="#（3）WebLogic" class="headerlink" title="（3）WebLogic"></a><strong>（3）WebLogic</strong></h4><p>WebLogic是美国Oracle公司出品的一个Application Server，确切的说是一个基于JAVAEE架构的中间件，WebLogic是用于开发、集成、部署和管理大型分布式Web应用、网络应用和数据库应用的Java应用服务器。将Java的动态功能和Java Enterprise标准的安全性引入大型网络应用的开发、集成、部署和管理之中。</p>
<ul>
<li><p>端口：7001，7002</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>弱口令、爆破，弱密码一般为weblogic/Oracle@123 or weblogic</li>
<li>管理后台部署 war 后门</li>
<li>SSRF</li>
<li>反序列化漏洞</li>
<li>weblogic_uac</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/vulhub/vulhub/tree/master/weblogic/ssrf">https://github.com/vulhub/vulhub/tree/master/weblogic/ssrf</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.gdssecurity.com/labs/2015/3/30/weblogic-ssrf-and-xss-cve-2014-4241-cve-2014-4210-cve-2014-4.html">https://blog.gdssecurity.com/labs/2015/3/30/weblogic-ssrf-and-xss-cve-2014-4241-cve-2014-4210-cve-2014-4.html</a></li>
<li><a target="_blank" rel="noopener" href="https://fuping.site/2017/06/05/Weblogic-Vulnerability-Verification/">https://fuping.site/2017/06/05/Weblogic-Vulnerability-Verification/</a></li>
<li><a target="_blank" rel="noopener" href="https://bbs.pediy.com/thread-224954.htm">https://bbs.pediy.com/thread-224954.htm</a></li>
</ul>
</li>
</ul>
<h4 id="-6"><a href="#-6" class="headerlink" title=""></a></h4><h4 id="（4）-WebSphere"><a href="#（4）-WebSphere" class="headerlink" title="（4） WebSphere"></a><strong>（4） WebSphere</strong></h4><p>IBM公司一套典型的电子商务应用开发工具及运行环境。</p>
<ul>
<li><p>端口：默认端口：908*；第一个应用就是9080，第二个就是9081；控制台9090</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>控制台登录爆破</li>
<li>很多内网 websphere 的控制台存在弱口令 / 默认口令，可以使用 admin/admin 以及 webshpere/webshpere 这种口令登录。通过该口令登录控制台后，可以部署 war 包，从而获取到 WEBSHELL 。</li>
<li>反序列化</li>
<li>任意文件泄露</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://loudong.sjtu.edu.cn/?keyword=WebSphere&amp;serverity=%E9%AB%98%E5%8D%B1">https://loudong.sjtu.edu.cn/?keyword=WebSphere&amp;serverity=%E9%AB%98%E5%8D%B1</a></li>
<li><a target="_blank" rel="noopener" href="http://www.fr1sh.com/wooyun_1/bug_detail.php?wybug_id=wooyun-2013-036803">http://www.fr1sh.com/wooyun_1/bug_detail.php?wybug_id=wooyun-2013-036803</a></li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/metall0id/bb3e9bab2b7caee90cb7">https://gist.github.com/metall0id/bb3e9bab2b7caee90cb7</a></li>
</ul>
</li>
</ul>
<h4 id="（5）-Glassfish"><a href="#（5）-Glassfish" class="headerlink" title="（5） Glassfish"></a><strong>（5） Glassfish</strong></h4><h3 id="-7"><a href="#-7" class="headerlink" title=""></a></h3><h3 id="2-1-3-Web-框架"><a href="#2-1-3-Web-框架" class="headerlink" title="2.1.3 Web 框架"></a><strong>2.1.3 Web 框架</strong></h3><h4 id="（1）-Struts2"><a href="#（1）-Struts2" class="headerlink" title="（1） Struts2"></a><strong>（1） Struts2</strong></h4><p>Struts2是一个优雅的,可扩展的框架,用于创建企业准备的Java Web应用程序。出现的漏洞也着实的多每爆一个各大漏洞平台上就会被刷屏。</p>
<ul>
<li><p>可利用漏洞</p>
</li>
<li><ul>
<li>S2-046 CVE-2017-5638 Struts 2.3.5-2.3.31,Struts 2.5-2.5.10</li>
<li>S2-045 CVE-2017-5638 Struts 2.3.5-2.3.31,Struts 2.5-2.5.10</li>
<li>S2-037 CVE-2016-4438 Struts 2.3.20-2.3.28.1</li>
<li>S2-032 CVE-2016-3081 Struts 2.3.18-2.3.28</li>
<li>S2-020 CVE-2014-0094 Struts 2.0.0-2.3.16</li>
<li>S2-019 CVE-2013-4316 Struts 2.0.0-2.3.15.1</li>
<li>S2-016 CVE-2013-2251 Struts 2.0.0-2.3.15</li>
<li>S2-013 CVE-2013-1966 Struts 2.0.0-2.3.14</li>
<li>S2-009 CVE-2011-3923 Struts 2.0.0-2.3.1.1</li>
<li>S2-005 CVE-2010-1870 Struts 2.0.0-2.1.8.1</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/hktalent/myhktools">https://github.com/hktalent/myhktools</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Lucifer1993/struts-scan">https://github.com/Lucifer1993/struts-scan</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/SecureSkyTechnology/study-struts2-s2-054_055-jackson-cve-2017-7525_cve-2017-15095">https://github.com/SecureSkyTechnology/study-struts2-s2-054_055-jackson-cve-2017-7525_cve-2017-15095</a></li>
</ul>
</li>
</ul>
<h4 id="-8"><a href="#-8" class="headerlink" title=""></a></h4><h4 id="（2）Spring-框架"><a href="#（2）Spring-框架" class="headerlink" title="（2）Spring 框架"></a><strong>（2）Spring 框架</strong></h4><p>Spring Framework 是一个开源的Java／Java EE全功能栈（full-stack）的应用程序框架，以Apache License 2.0开源许可协议的形式发布，也有.NET平台上的移植版本。Spring Framework提供了一个简易的开发方式，这种开发方式，将避免那些可能致使底层代码变得繁杂混乱的大量的属性文件和帮助类。</p>
<ul>
<li><p>可利用漏洞</p>
</li>
<li><ul>
<li>CVE-2010-1622</li>
<li>CVE-2018-1274</li>
<li>CVE-2018-1270</li>
<li>CVE-2018-1273</li>
<li>反序列化</li>
<li>目录穿越</li>
</ul>
</li>
<li><p>参考</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://www.inbreak.net/archives/377">http://www.inbreak.net/archives/377</a></li>
<li><a target="_blank" rel="noopener" href="https://www.secpulse.com/archives/71762.html">https://www.secpulse.com/archives/71762.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.open-open.com/news/view/1225d07">http://www.open-open.com/news/view/1225d07</a></li>
<li><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/2261">https://xz.aliyun.com/t/2261</a></li>
<li><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/2252">https://xz.aliyun.com/t/2252</a></li>
</ul>
</li>
</ul>
<h3 id="-9"><a href="#-9" class="headerlink" title=""></a></h3><h3 id="2-1-4-Web-服务器"><a href="#2-1-4-Web-服务器" class="headerlink" title="2.1.4 Web 服务器"></a><strong>2.1.4 Web 服务器</strong></h3><ul>
<li><ul>
<li><p><strong>IIS</strong>：Windows 的 WWW 服务器</p>
</li>
<li><ul>
<li><p>端口：80</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>IIS，开启了 WebDAV，可以直接详服务器 PUT 文件</li>
<li>短文件名枚举漏洞</li>
<li>远程代码执行</li>
<li>提权漏洞</li>
<li>解析漏洞</li>
</ul>
</li>
<li><p>参考： </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://masterxsec.github.io/2017/06/07/IIS-write-%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/">https://masterxsec.github.io/2017/06/07/IIS-write-%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.freebuf.com/articles/4908.html">http://www.freebuf.com/articles/4908.html</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/85811">https://www.anquanke.com/post/id/85811</a></p>
</li>
</ul>
</li>
<li></li>
<li><p><strong>Apache</strong></p>
</li>
<li><ul>
<li>端口：80</li>
</ul>
</li>
<li><ul>
<li><p>攻击方法：</p>
<p>解析漏洞</p>
<p>目录遍历</p>
</li>
</ul>
</li>
<li></li>
<li><p><strong>Nginx</strong></p>
</li>
<li><ul>
<li>端口：80</li>
</ul>
</li>
<li><ul>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li><p>解析漏洞</p>
</li>
<li><p>目录遍历</p>
</li>
<li><p>CVE-2016-1247：需要获取主机操作权限，攻击者可通过软链接任意文件来替换日志文件，从而实现提权以获取服务器的root权限。</p>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://www.seebug.org/vuldb/ssvid-92538">https://www.seebug.org/vuldb/ssvid-92538</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>lighttpd</strong></p>
</li>
<li><ul>
<li><p>端口：80</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>目录遍历</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-2-常见运维系统"><a href="#2-2-常见运维系统" class="headerlink" title="2.2 常见运维系统"></a><strong>2.2 常见运维系统</strong></h2><p>一般分自动化部署和运维监控相关的的工具。漏洞可以通过搜索引擎搜索，github搜索，ExploitDB搜索，官网上的安全通告获取。内网的通用类应用比较常见的问题是弱口令，如果一个管理员可以登录几个系统，那在这几个系统的账号、密码也基本上是一样的。</p>
<h3 id="2-2-1-Gitlab"><a href="#2-2-1-Gitlab" class="headerlink" title="2.2.1 Gitlab"></a><strong>2.2.1 Gitlab</strong></h3><p>GitLab是一个利用 Ruby on Rails 开发的开源应用程序，实现一个自托管的项目仓库，可通过Web界面进行访问公开的或者私人项目。</p>
<ul>
<li><p>可利用漏洞：</p>
</li>
<li><ul>
<li>任意文件读取漏洞</li>
<li>意用户 token 泄露漏洞</li>
<li>命令执行漏洞</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://blog.knownsec.com/2016/11/gitlab-file-read-vulnerability-cve-2016-9086-and-access-all-user-authentication-token/">http://blog.knownsec.com/2016/11/gitlab-file-read-vulnerability-cve-2016-9086-and-access-all-user-authentication-token/</a></li>
<li><a target="_blank" rel="noopener" href="http://rinige.com/index.php/archives/577/">http://rinige.com/index.php/archives/577/</a></li>
</ul>
</li>
</ul>
<h3 id="-10"><a href="#-10" class="headerlink" title=""></a></h3><h3 id="2-2-2-Jenkins"><a href="#2-2-2-Jenkins" class="headerlink" title="2.2.2 Jenkins"></a><strong>2.2.2 Jenkins</strong></h3><p>Jenkins是一种跨平台的持续集成和交付的应用软件，它便于不断稳定地交付新的软件版本，并提高你的工作效率。这款开发运维工具还让开发人员更容易把项目的变化整合起来，并使用大量的测试和部署技术。</p>
<ul>
<li><p>可利用漏洞：</p>
</li>
<li><ul>
<li>远程代码执行漏洞</li>
<li>反序列化漏洞</li>
<li>未授权访问漏洞</li>
<li>登录入口爆破</li>
</ul>
</li>
<li><p>参考</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/backlion/p/6813260.html">https://www.cnblogs.com/backlion/p/6813260.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/86018">https://www.anquanke.com/post/id/86018</a></li>
<li><a target="_blank" rel="noopener" href="https://paper.seebug.org/199/">https://paper.seebug.org/199/</a></li>
</ul>
</li>
</ul>
<h3 id="-11"><a href="#-11" class="headerlink" title=""></a></h3><h3 id="2-2-3-Puppet"><a href="#2-2-3-Puppet" class="headerlink" title="2.2.3 Puppet"></a><strong>2.2.3 Puppet</strong></h3><p>Puppet Enterprise专门管理基础设施即代码(IAC)，在这种类型的IT基础设施配置过程中，系统用代码而不是脚本流程来自动构建、管理和配置。由于它是代码，整个过程易于重复。Puppet有助于更容易控制版本、自动化测试和持续交付，可以更快速地响应问题或错误。</p>
<ul>
<li><p>可利用漏洞，很少公开的POC</p>
</li>
<li><ul>
<li>反序列化</li>
<li>远程命令执行</li>
</ul>
</li>
</ul>
<h3 id="-12"><a href="#-12" class="headerlink" title=""></a></h3><h3 id="2-2-4-Ansible"><a href="#2-2-4-Ansible" class="headerlink" title="2.2.4 Ansible"></a><strong>2.2.4 Ansible</strong></h3><p>Ansible是一种配置和管理工具，面向客户端的软件部署和配置，支持Unix、Linux和Windows。它使 用JSON和YAML，而不是IAC，根本不需要节点代理就可以安装。它可以通过OpenStack在内部系统上使用，也可以在亚马逊EC2上使用。</p>
<ul>
<li><p>可利用漏洞</p>
</li>
<li><ul>
<li>远程代码执行</li>
</ul>
</li>
</ul>
<h3 id="-13"><a href="#-13" class="headerlink" title=""></a></h3><h3 id="2-2-5-Nagios"><a href="#2-2-5-Nagios" class="headerlink" title="2.2.5 Nagios"></a><strong>2.2.5 Nagios</strong></h3><p>Nagios是一款开源的电脑系统和网络监视工具，能有效监控Windows、Linux和Unix的主机状态，交换机路由器等网络设置，打印机等。在系统或服务状态异常时发出邮件或短信报警第一时间通知网站运维人员，在状态恢复后发出正常的邮件或短信通知。</p>
<ul>
<li><p>可利用漏洞</p>
</li>
<li><ul>
<li>代码执行</li>
<li>SQLi</li>
</ul>
</li>
<li><p>参考</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://www.bugku.com/thread-87-1-1.html">http://www.bugku.com/thread-87-1-1.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.mottoin.com/93936.html">http://www.mottoin.com/93936.html</a></li>
</ul>
</li>
</ul>
<h3 id="-14"><a href="#-14" class="headerlink" title=""></a></h3><h3 id="2-2-6-Zabbix"><a href="#2-2-6-Zabbix" class="headerlink" title="2.2.6 Zabbix"></a><strong>2.2.6 Zabbix</strong></h3><p>Zabbix 是一款强大的开源分布式监控系统, 能够将<code>SNMP</code>、<code>JMX</code>、<code>Zabbix Agent</code>提供的数据通过<code>WEB GUI</code>的方式进行展示.</p>
<ul>
<li><p>可利用漏洞（具体参考 ExploitDB）：</p>
</li>
<li><ul>
<li>远程代码执行</li>
<li>SQLi</li>
<li>shell 命令注入</li>
<li>认证绕过</li>
<li>默认账户与密码，默认口令 admin/zabbix，或者是guest/空</li>
</ul>
</li>
<li><p>参考</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/ytuo1223/article/details/45937981">https://blog.csdn.net/ytuo1223/article/details/45937981</a></li>
<li><a target="_blank" rel="noopener" href="http://vinc.top/2017/04/18/zabbix%E6%BC%8F%E6%B4%9E%E6%80%BB%E7%BB%93/">http://vinc.top/2017/04/18/zabbix%E6%BC%8F%E6%B4%9E%E6%80%BB%E7%BB%93/</a></li>
<li><a target="_blank" rel="noopener" href="http://www.mottoin.com/87570.html">http://www.mottoin.com/87570.html</a></li>
</ul>
</li>
</ul>
<h3 id="-15"><a href="#-15" class="headerlink" title=""></a></h3><h3 id="2-2-7-Cacit"><a href="#2-2-7-Cacit" class="headerlink" title="2.2.7 Cacit"></a><strong>2.2.7 Cacit</strong></h3><p>Cacti是一套基于PHP,MySQL,SNMP及RRDTool开发的网络流量监测图形分析工具。</p>
<ul>
<li><p>可利用漏洞</p>
</li>
<li><ul>
<li>任意代码执行</li>
<li>SQLi</li>
<li>登录爆破</li>
<li>默认密码admin/admin</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://wooyun.jozxing.cc/static/bugs/wooyun-2011-02674.html">http://wooyun.jozxing.cc/static/bugs/wooyun-2011-02674.html</a></li>
</ul>
</li>
</ul>
<h3 id="-16"><a href="#-16" class="headerlink" title=""></a></h3><h3 id="2-2-8-Splunk"><a href="#2-2-8-Splunk" class="headerlink" title="2.2.8 Splunk"></a><strong>2.2.8 Splunk</strong></h3><p>Splunk Enterprise 可以从任何来源监控和分析机器数据，以提供操作智能，从而优化您的 IT、安全和业务绩效。Splunk Enterprise 具有直观的分析功能、机器学习、打包应用程序和开放式 API，是一个灵活的平台，可从重点用例扩展到企业范围的分析主干。</p>
<ul>
<li><p>可利用漏洞</p>
</li>
<li><ul>
<li>信息泄露</li>
<li>命令注入</li>
<li>服务端请求伪造</li>
</ul>
</li>
<li><p>参考</p>
</li>
<li><ul>
<li>ExploitDB 搜索</li>
</ul>
</li>
</ul>
<h2 id="-17"><a href="#-17" class="headerlink" title=""></a></h2><h2 id="2-3-常见-Web-应用"><a href="#2-3-常见-Web-应用" class="headerlink" title="2.3 常见 Web 应用"></a><strong>2.3 常见 Web 应用</strong></h2><p>还有常见邮件应用、CMS 应用，在搜索引擎上查找对应的漏洞，利用已知漏洞进行攻击。</p>
<h3 id="2-3-1-邮件系统"><a href="#2-3-1-邮件系统" class="headerlink" title="2.3.1 邮件系统"></a><strong>2.3.1 邮件系统</strong></h3><p>一部分是使用腾讯企业邮箱、阿里企业邮箱的，很难有可利用的漏洞，另外一种是能独立部署的邮件系统，政企常用的邮箱应用：</p>
<ul>
<li>Coremail</li>
<li>亿邮</li>
<li>35互联</li>
<li>TurboMail</li>
<li>Exchange</li>
<li>IBM Lotus</li>
</ul>
<h3 id="-18"><a href="#-18" class="headerlink" title=""></a></h3><h3 id="2-3-2-CMS-应用"><a href="#2-3-2-CMS-应用" class="headerlink" title="2.3.2 CMS 应用"></a><strong>2.3.2 CMS 应用</strong></h3><h2 id="-19"><a href="#-19" class="headerlink" title=""></a></h2><h2 id="2-4-数据库-缓存-消息服务"><a href="#2-4-数据库-缓存-消息服务" class="headerlink" title="2.4 数据库/缓存/消息服务"></a><strong>2.4 数据库/缓存/消息服务</strong></h2><h3 id="2-4-1-MySQL数据库"><a href="#2-4-1-MySQL数据库" class="headerlink" title="2.4.1 MySQL数据库"></a><strong>2.4.1 MySQL数据库</strong></h3><ul>
<li><p>默认端口：3306</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>爆破：弱口令</li>
<li>身份认证漏洞：CVE-2012-2122</li>
<li>拒绝服务攻击</li>
<li>Phpmyadmin万能密码绕过：用户名：‘localhost’@’@” 密码任意</li>
<li>提权</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://www.seebug.org/appdir/MySQL">https://www.seebug.org/appdir/MySQL</a></li>
<li><a target="_blank" rel="noopener" href="http://www.waitalone.cn/mysql-tiquan-summary.html?replytocom=390">http://www.waitalone.cn/mysql-tiquan-summary.html?replytocom=390</a></li>
<li><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/1491">https://xz.aliyun.com/t/1491</a></li>
</ul>
</li>
</ul>
<h3 id="-20"><a href="#-20" class="headerlink" title=""></a></h3><h3 id="2-4-2-MSSQL数据库"><a href="#2-4-2-MSSQL数据库" class="headerlink" title="2.4.2 MSSQL数据库"></a><strong>2.4.2 MSSQL数据库</strong></h3><ul>
<li><p>默认端口：1433（Server 数据库服务）、1434（Monitor 数据库监控）</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>爆破：弱口令/使用系统用户</li>
<li>注入</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/86011">https://www.anquanke.com/post/id/86011</a></li>
</ul>
</li>
</ul>
<h3 id="-21"><a href="#-21" class="headerlink" title=""></a></h3><h3 id="2-4-3-Oracle数据库"><a href="#2-4-3-Oracle数据库" class="headerlink" title="2.4.3 Oracle数据库"></a><strong>2.4.3 Oracle数据库</strong></h3><ul>
<li><p>默认端口：1521（数据库端口）、1158（Oracle EMCTL端口）、8080（Oracle XDB数据库）、210（Oracle XDB FTP服务）</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>爆破：弱口令</li>
<li>注入攻击；</li>
<li>漏洞攻击；-参考：</li>
<li><a target="_blank" rel="noopener" href="https://www.leiphone.com/news/201711/JjzXFp46zEPMvJod.html">https://www.leiphone.com/news/201711/JjzXFp46zEPMvJod.html</a></li>
</ul>
</li>
</ul>
<h3 id="-22"><a href="#-22" class="headerlink" title=""></a></h3><h3 id="2-4-4-PostgreSQL数据库"><a href="#2-4-4-PostgreSQL数据库" class="headerlink" title="2.4.4 PostgreSQL数据库"></a><strong>2.4.4 PostgreSQL数据库</strong></h3><p>PostgreSQL是一种特性非常齐全的自由软件的对象–关系型数据库管理系统，可以说是目前世界上最先进，功能最强大的自由数据库管理系统。包括kali系统中msf也使用这个数据库；浅谈postgresql数据库攻击技术 大部分关于它的攻击依旧是sql注入，所以注入才是数据库不变的话题。</p>
<ul>
<li><p>默认端口：5432</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>爆破：弱口令：postgres postgres</li>
<li>缓冲区溢出：CVE-2014-2669</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://drops.xmd5.com/static/drops/tips-6449.html">http://drops.xmd5.com/static/drops/tips-6449.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.secpulse.com/archives/69153.html">https://www.secpulse.com/archives/69153.html</a></li>
</ul>
</li>
</ul>
<h3 id="-23"><a href="#-23" class="headerlink" title=""></a></h3><h3 id="2-4-5-MongoDB数据库"><a href="#2-4-5-MongoDB数据库" class="headerlink" title="2.4.5 MongoDB数据库"></a><strong>2.4.5 MongoDB数据库</strong></h3><p>MongoDB，NoSQL数据库；攻击方法与其他数据库类似》</p>
<ul>
<li><p>默认端口：27017</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>爆破：弱口令</li>
<li>未授权访问；github有攻击代码；请点击</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/LittleHann/p/6252421.html">http://www.cnblogs.com/LittleHann/p/6252421.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.tiejiang.org/19157.html">http://www.tiejiang.org/19157.html</a></li>
</ul>
</li>
</ul>
<h3 id="-24"><a href="#-24" class="headerlink" title=""></a></h3><h3 id="2-4-6-Redis数据库"><a href="#2-4-6-Redis数据库" class="headerlink" title="2.4.6 Redis数据库"></a><strong>2.4.6 Redis数据库</strong></h3><p>Redis是一个开源的使用c语言写的，支持网络、可基于内存亦可持久化的日志型、key-value数据库。关于这个数据库这两年还是很火的，暴露出来的问题也很多。特别是前段时间暴露的未授权访问。</p>
<ul>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>爆破：弱口令</li>
<li>未授权访问+配合ssh key提权；</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://www.alloyteam.com/2017/07/12910/">http://www.alloyteam.com/2017/07/12910/</a></li>
</ul>
</li>
</ul>
<h3 id="-25"><a href="#-25" class="headerlink" title=""></a></h3><h3 id="2-4-7-SysBase数据库"><a href="#2-4-7-SysBase数据库" class="headerlink" title="2.4.7 SysBase数据库"></a><strong>2.4.7 SysBase数据库</strong></h3><ul>
<li><p>默认端口：服务端口5000；监听端口4100；备份端口：4200</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>爆破：弱口令</li>
<li>命令注入：</li>
</ul>
</li>
<li><p>参考</p>
</li>
</ul>
<h3 id="-26"><a href="#-26" class="headerlink" title=""></a></h3><h3 id="2-4-8-DB2-数据库"><a href="#2-4-8-DB2-数据库" class="headerlink" title="2.4.8 DB2 数据库"></a><strong>2.4.8 DB2 数据库</strong></h3><ul>
<li><p>默认端口：5000</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>安全限制绕过：成功后可执行未授权操作（CVE-2015-1922）</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://23.94.222.93/bug_detail.php?wybug_id=wooyun-2015-0113071">http://23.94.222.93/bug_detail.php?wybug_id=wooyun-2015-0113071</a></li>
</ul>
</li>
</ul>
<h2 id="-27"><a href="#-27" class="headerlink" title=""></a></h2><h2 id="2-5-常见服务-协议"><a href="#2-5-常见服务-协议" class="headerlink" title="2.5 常见服务/协议"></a><strong>2.5 常见服务/协议</strong></h2><h3 id="2-5-1-FTP-服务"><a href="#2-5-1-FTP-服务" class="headerlink" title="2.5.1 FTP 服务"></a><strong>2.5.1 FTP 服务</strong></h3><p>FTP服务：ftp服务我分为两种情况，第一种是使用系统软件来配置，比如IIS中的FTP文件共享或Linux中的默认服务软件；第二种是通过第三方软件来配置，比如Serv-U还有一些网上写的简易ftp服务器等；默认端口：20（数据端口）；21（控制端口）；69（tftp小型文件传输协议）</p>
<ul>
<li>攻击方式：</li>
<li>爆破：ftp的爆破工具有很多，这里我推荐owasp的Bruter 以及msf中ftp爆破模块；</li>
<li>匿名访问：用户名：anonymous 密码：为空或任意邮箱</li>
<li>嗅探：ftp使用明文传输技术（但是嗅探给予局域网并需要欺骗或监听网关）</li>
<li>后门 vsftp</li>
<li>远程溢出</li>
<li>跳转攻击</li>
</ul>
<h3 id="-28"><a href="#-28" class="headerlink" title=""></a></h3><h3 id="2-5-2-NFS-服务"><a href="#2-5-2-NFS-服务" class="headerlink" title="2.5.2 NFS 服务"></a><strong>2.5.2 NFS 服务</strong></h3><p>NFS（Network File System）即网络文件系统，是FreeBSD支持的文件系统中的一种，它允许网络中的计算机之间通过TCP/IP网络共享资源。在NFS的应用中，本地NFS的客户端应用可以透明地读写位于远端NFS服务器上的文件，就像访问本地文件一样。如今NFS具备了防止被利用导出文件夹的功能，但遗留系统中的NFS服务配置不当，则仍可能遭到恶意攻击者的利用。</p>
<ul>
<li><p>攻击方法</p>
</li>
<li><ul>
<li>未授权访问</li>
</ul>
</li>
<li><p>参考</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://www.freebuf.com/articles/network/159468.html">http://www.freebuf.com/articles/network/159468.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.vuln.cn/6368">http://www.vuln.cn/6368</a></li>
</ul>
</li>
</ul>
<h3 id="-29"><a href="#-29" class="headerlink" title=""></a></h3><h3 id="2-5-3-Samba服务"><a href="#2-5-3-Samba服务" class="headerlink" title="2.5.3 Samba服务"></a><strong>2.5.3 Samba服务</strong></h3><p>Samba是linux和unix系统上实现SMB/CIFS协议的一个免费软件，由服务器和客户端程序构成。而SMB是局域网支持共享文件和打印机的一种通信协议，为局域网内不同计算机之间提供文件及打印机等资源的共享服务。</p>
<ul>
<li><p>攻击方法</p>
</li>
<li><ul>
<li>远程代码执行</li>
<li>弱口令</li>
<li>未授权访问（public）</li>
</ul>
</li>
<li><p>参考</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://www.91ri.org/17114.html">http://www.91ri.org/17114.html</a></li>
</ul>
</li>
</ul>
<h3 id="-30"><a href="#-30" class="headerlink" title=""></a></h3><h3 id="2-5-4-SSH-服务"><a href="#2-5-4-SSH-服务" class="headerlink" title="2.5.4 SSH 服务"></a><strong>2.5.4 SSH 服务</strong></h3><p>SSH 是协议，通常使用 OpenSSH 软件实现协议应用。SSH 为 Secure Shell 的缩写，由 IETF 的网络工作小组（Network Working Group）所制定；SSH 为建立在应用层和传输层基础上的安全协议。SSH 是目前较可靠，专为远程登录会话和其它网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。</p>
<ul>
<li><p>端口：22</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>爆破</li>
<li>后门</li>
<li>漏洞：28退格漏洞、OpenSSL漏洞</li>
</ul>
</li>
<li><p>参考</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1078187">https://cloud.tencent.com/developer/article/1078187</a></li>
</ul>
</li>
</ul>
<h3 id="-31"><a href="#-31" class="headerlink" title=""></a></h3><h3 id="2-5-5-Telnet-服务"><a href="#2-5-5-Telnet-服务" class="headerlink" title="2.5.5 Telnet 服务"></a><strong>2.5.5 Telnet 服务</strong></h3><p>Telnet协议是TCP/IP协议族中的一员，是Internet远程登陆服务的标准协议和主要方式。它为用户提供了在本地计算机上完成远程主机工作的能力。在終端使用者的电脑上使用telnet程序，用它连接到服务器。終端使用者可以在telnet程序中输入命令，这些命令会在服务器上运行，就像直接在服务器的控制台上输入一样。可以在本地就能控制服务器。</p>
<ul>
<li><p>默认端口：21</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>爆破</li>
<li>嗅探</li>
</ul>
</li>
</ul>
<h3 id="-32"><a href="#-32" class="headerlink" title=""></a></h3><h3 id="2-5-6-Windows-远程连接"><a href="#2-5-6-Windows-远程连接" class="headerlink" title="2.5.6 Windows 远程连接"></a><strong>2.5.6 Windows 远程连接</strong></h3><ul>
<li><p>默认端口：3389</p>
</li>
<li><p>攻击方法</p>
</li>
<li><ul>
<li>爆破</li>
<li>Shift粘滞键后门：5次shift后门</li>
<li>利用ms12-020攻击3389端口</li>
</ul>
</li>
</ul>
<h3 id="-33"><a href="#-33" class="headerlink" title=""></a></h3><h3 id="2-5-7-VNC服务"><a href="#2-5-7-VNC服务" class="headerlink" title="2.5.7 VNC服务"></a><strong>2.5.7 VNC服务</strong></h3><p>VNC（Virtual Network Computing），为一种使用RFB协议的显示屏画面分享及远程操作软件。此软件借由网络，可发送键盘与鼠标的动作及即时的显示屏画面。</p>
<ul>
<li><p>默认端口：5900+桌面ID（5901；5902）</p>
</li>
<li><p>攻击方式：</p>
</li>
<li><ul>
<li>爆破：弱口令</li>
<li>认证口令绕过：</li>
<li>拒绝服务攻击：（CVE-2015-5239）</li>
<li>权限提升：（CVE-2013-6886）</li>
</ul>
</li>
</ul>
<h3 id="-34"><a href="#-34" class="headerlink" title=""></a></h3><h3 id="2-5-8-SMTP协议"><a href="#2-5-8-SMTP协议" class="headerlink" title="2.5.8 SMTP协议"></a><strong>2.5.8 SMTP协议</strong></h3><p>smtp：邮件协议，在linux中默认开启这个服务，可以向对方发送钓鱼邮件！</p>
<ul>
<li><p>默认端口：25（smtp）、465（smtps）</p>
</li>
<li><p>攻击方式：</p>
</li>
<li><ul>
<li>爆破：弱口令</li>
<li>未授权访问</li>
</ul>
</li>
</ul>
<h3 id="-35"><a href="#-35" class="headerlink" title=""></a></h3><h3 id="2-5-9-POP3协议"><a href="#2-5-9-POP3协议" class="headerlink" title="2.5.9 POP3协议"></a><strong>2.5.9 POP3协议</strong></h3><ul>
<li><p>默认端口：109（POP2）、110（POP3）、995（POP3S）</p>
</li>
<li><p>攻击方式：</p>
</li>
<li><ul>
<li>爆破；弱口令</li>
<li>未授权访问；</li>
</ul>
</li>
</ul>
<h3 id="-36"><a href="#-36" class="headerlink" title=""></a></h3><h3 id="2-5-10-DNS服务"><a href="#2-5-10-DNS服务" class="headerlink" title="2.5.10 DNS服务"></a><strong>2.5.10 DNS服务</strong></h3><ul>
<li><p>默认端口：53</p>
</li>
<li><p>攻击方式：</p>
</li>
<li><ul>
<li>区域传输漏洞</li>
</ul>
</li>
</ul>
<h3 id="-37"><a href="#-37" class="headerlink" title=""></a></h3><h3 id="2-5-11-IMAP协议"><a href="#2-5-11-IMAP协议" class="headerlink" title="2.5.11 IMAP协议"></a><strong>2.5.11 IMAP协议</strong></h3><ul>
<li><p>默认端口：143（imap）、993（imaps）</p>
</li>
<li><p>攻击方式：</p>
</li>
<li><ul>
<li>爆破：弱口令</li>
<li>配置不当</li>
</ul>
</li>
</ul>
<h3 id="-38"><a href="#-38" class="headerlink" title=""></a></h3><h3 id="2-5-12-SNMP协议"><a href="#2-5-12-SNMP协议" class="headerlink" title="2.5.12 SNMP协议"></a><strong>2.5.12 SNMP协议</strong></h3><ul>
<li><p>默认端口：161</p>
</li>
<li><p>攻击方式:</p>
</li>
<li><ul>
<li>爆破：弱口令</li>
</ul>
</li>
</ul>
<h3 id="-39"><a href="#-39" class="headerlink" title=""></a></h3><h3 id="2-5-13-DHCP服务"><a href="#2-5-13-DHCP服务" class="headerlink" title="2.5.13 DHCP服务"></a><strong>2.5.13 DHCP服务</strong></h3><ul>
<li><p>默认端口：67&amp;68、546（DHCP Failover做双机热备的）</p>
</li>
<li><p>攻击方式：</p>
</li>
<li><ul>
<li>DHCP劫持；</li>
</ul>
</li>
</ul>
<h2 id="2-6-云环境"><a href="#2-6-云环境" class="headerlink" title="2.6 云环境"></a><strong>2.6 云环境</strong></h2><h3 id="2-6-1-VMware"><a href="#2-6-1-VMware" class="headerlink" title="2.6.1 VMware"></a><strong>2.6.1 VMware</strong></h3><p>使用 VMware vCloud 可将现有数据中心内的虚拟基础架构资源池化，并将其作为基于目录的服务交付。通过与云计算基础架构的最佳平台 VMware vSphere 配合使用，VMware vCloud Director 可为客户提供构建安全的私有云，从而改变 IT 部门交付和管理基础架构服务以及用户访问和使用这些服务的方式。一般组织中很多独立安装的 Esxi 形式的私有云，或独立部署的虚拟化系统。</p>
<ul>
<li><p>端口（很多）：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://kb.vmware.com/s/article/2115330">https://kb.vmware.com/s/article/2115330</a></li>
<li><a target="_blank" rel="noopener" href="https://kb.vmware.com/s/article/2081930">https://kb.vmware.com/s/article/2081930</a></li>
</ul>
</li>
<li><p>漏洞</p>
</li>
<li><ul>
<li>主机逃逸</li>
<li>CVE-2017-5638</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://paper.seebug.org/348/">https://paper.seebug.org/348/</a></li>
<li><a target="_blank" rel="noopener" href="http://www.freebuf.com/articles/system/141179.html">http://www.freebuf.com/articles/system/141179.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.mottoin.com/100651.html">http://www.mottoin.com/100651.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.52bug.cn/%E9%BB%91%E5%AE%A2%E6%8A%80%E6%9C%AF/4375.html">http://www.52bug.cn/%E9%BB%91%E5%AE%A2%E6%8A%80%E6%9C%AF/4375.html</a></li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/VMwareSRC">https://twitter.com/VMwareSRC</a></li>
<li><a target="_blank" rel="noopener" href="https://loudong.sjtu.edu.cn/?keyword=vmware&amp;serverity=%E9%AB%98%E5%8D%B1&amp;page=1">https://loudong.sjtu.edu.cn/?keyword=vmware&amp;serverity=%E9%AB%98%E5%8D%B1&amp;page=1</a></li>
<li><a target="_blank" rel="noopener" href="https://www.vmware.com/cn/security/hardening-guides.html">https://www.vmware.com/cn/security/hardening-guides.html</a></li>
</ul>
</li>
</ul>
<h3 id="-40"><a href="#-40" class="headerlink" title=""></a></h3><h3 id="2-6-2-OpenStack"><a href="#2-6-2-OpenStack" class="headerlink" title="2.6.2 OpenStack"></a><strong>2.6.2 OpenStack</strong></h3><p>OpenStack是基础设施即服务（IaaS）软件，让任何人都可以自行创建和提供云计算服务。此外，OpenStack也用作创建防火墙内的“私有云”（Private Cloud），提供机构或企业内各部门共享资源。</p>
<ul>
<li><p>漏洞，有漏洞但是POC基本没有。检查时候可以参考安全的配置实践。</p>
</li>
<li><ul>
<li>权限绕过漏洞</li>
<li>信息泄露</li>
<li>代码执行漏洞</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://loudong.sjtu.edu.cn/?keyword=openstack&amp;serverity=%E9%AB%98%E5%8D%B1">https://loudong.sjtu.edu.cn/?keyword=openstack&amp;serverity=%E9%AB%98%E5%8D%B1</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.openstack.org/liberty/zh_CN/install-guide-obs/environment-security.html">https://docs.openstack.org/liberty/zh_CN/install-guide-obs/environment-security.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.freebuf.com/news/topnews/107203.html">http://www.freebuf.com/news/topnews/107203.html</a></li>
</ul>
</li>
</ul>
<h3 id="2-6-3-Docker"><a href="#2-6-3-Docker" class="headerlink" title="2.6.3 Docker"></a><strong>2.6.3 Docker</strong></h3><p>Docker是一个开放源代码软件项目，让应用程序布署在软件容器下的工作可以自动化进行，借此在Linux操作系统上，提供一个额外的软件抽象层，以及操作系统层虚拟化的自动管理机制[1]。Docker利用Linux核心中的资源分脱机制，例如cgroups，以及Linux核心名字空间（name space），来创建独立的软件容器（containers）。这可以在单一Linux实体下运作，避免引导一个虚拟机造成的额外负担。Linux核心对名字空间的支持完全隔离了工作环境中应用程序的视野，包括进程树、网络、用户ID与挂载文件系统，而核心的cgroup提供资源隔离，包括CPU、内存、block I/O与网络。从0.9版本起，Dockers在使用抽象虚拟是经由libvirt的LXC与systemd – nspawn提供界面的基础上，开始包括libcontainer函数库做为以自己的方式开始直接使用由Linux核心提供的虚拟化的设施。</p>
<ul>
<li><p>安全问题（很少有漏洞的POC，安全检查也是基于最佳实践和官方安全建议进行）：</p>
</li>
<li><ul>
<li>CVE-2015-3630 1.6.0 Docker Libcontainer 安全绕过漏洞</li>
<li>CVE-2015-3627 1.6.1 Libcontainer和Docker Engine 权限许可和访问控制漏洞</li>
<li>CVE-2015-3630 1.6.1 Docker Engine 安全绕过漏洞</li>
<li>CVE-2014-9358 1.3.3 Docker 目录遍历漏洞</li>
<li>CVE-2014-9357 1.3.2 Docker 权限许可和访问控制漏洞</li>
<li>CVE-2014-6408 1.3.1 Docker 权限许可和访问控制漏洞</li>
<li>CVE-2014-5277 1.3.0 Docker和docker-py 代码注入漏洞</li>
<li>内核漏洞（Kernel exploits） 容器是基于内核的虚拟化，主机（host）和主机上的所有容器共享一套内核。如果某个容器的操作造成了内核崩溃，那么反过来整台机器上的容器都会受到影响。</li>
<li>拒绝服务攻击（Denial-of-service attacks） 所有的容器都共享了内核资源，如果一个容器独占了某一个资源（内存、CPU、各种ID），可能会造成其他容器因为资源匮乏无法工作（形成DoS攻击）。</li>
<li>容器突破（Container breakouts） Linux的namespace机制是容器的核心之一，它允许容器内部拥有一个PID=1的进程而在容器外部这个进程号又是不一样的（比如1234）。现在问题在于如果一个PID=1的进程突破了namespace的限制，那么他将会在主机上获得root权限。</li>
<li>有毒镜像（Poisoned images） 主要是考虑到镜像本身的安全性，没太多好说的。</li>
</ul>
</li>
<li><p>参考：</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://toutiao.io/posts/2y9xx8/preview">https://toutiao.io/posts/2y9xx8/preview</a></li>
<li><a target="_blank" rel="noopener" href="http://www.yunweipai.com/archives/21610.html">http://www.yunweipai.com/archives/21610.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.91ri.org/15837.html">http://www.91ri.org/15837.html</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/ruidu_doer/article/details/53401523">https://blog.csdn.net/ruidu_doer/article/details/53401523</a></li>
<li><a target="_blank" rel="noopener" href="https://loudong.sjtu.edu.cn/?keyword=docker&amp;serverity=%E9%AB%98%E5%8D%B1">https://loudong.sjtu.edu.cn/?keyword=docker&amp;serverity=%E9%AB%98%E5%8D%B1</a></li>
<li><a target="_blank" rel="noopener" href="http://dockone.io/article/150">http://dockone.io/article/150</a></li>
<li><a target="_blank" rel="noopener" href="http://www.dockerinfo.net/docker/docker%E5%AE%89%E5%85%A8">http://www.dockerinfo.net/docker/docker%E5%AE%89%E5%85%A8</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.waterstrong.me/docker-security/">https://blog.waterstrong.me/docker-security/</a></li>
</ul>
</li>
</ul>
<h2 id="2-7-大数据"><a href="#2-7-大数据" class="headerlink" title="2.7 大数据"></a><strong>2.7 大数据</strong></h2><h3 id="2-7-1-Elsaticsearch"><a href="#2-7-1-Elsaticsearch" class="headerlink" title="2.7.1 Elsaticsearch"></a><strong>2.7.1 Elsaticsearch</strong></h3><p>Elasticsearch 是一个分布式的搜索和分析引擎，可以用于全文检索、结构化检索和分析，并能将这三者结合起来。Elasticsearch 基于 Lucene 开发，现在是使用最广的开源搜索引擎之一，Wikipedia、Stack Overflow、GitHub 等都基于 Elasticsearch 来构建他们的搜索引擎。</p>
<ul>
<li><p>默认端口：9200（）、9300（）</p>
</li>
<li><p>攻击方法：</p>
</li>
<li><ul>
<li>未授权访问；</li>
<li>远程命令执行；</li>
<li>文件遍历；</li>
<li>低版本webshell植入；</li>
</ul>
</li>
<li><p>参考</p>
</li>
<li><ul>
<li><a target="_blank" rel="noopener" href="http://www.freebuf.com/sectool/38025.html">http://www.freebuf.com/sectool/38025.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.secpulse.com/archives/5401.html">https://www.secpulse.com/archives/5401.html</a></li>
</ul>
</li>
</ul>
<h3 id="-41"><a href="#-41" class="headerlink" title=""></a></h3><h3 id="2-7-2-hadoop"><a href="#2-7-2-hadoop" class="headerlink" title="2.7.2 hadoop"></a><strong>2.7.2 hadoop</strong></h3><p>Hadoop是一个开源的框架，可编写和运行分布式应用处理大规模数据，是专为离线和大规模数据分析而设计的，并不适合那种对几个记录随机读写的在线事务处理模式。Hadoop=HDFS（文件系统，数据存储技术相关）+ Mapreduce（数据处理），Hadoop的数据来源可以是任何形式，在处理半结构化和非结构化数据上与关系型数据库相比有更好的性能，具有更灵活的处理能力，不管任何数据形式最终会转化为key/value，key/value是基本数据单元。用函数式变成Mapreduce代替SQL，SQL是查询语句，而Mapreduce则是使用脚本和代码，而对于适用于关系型数据库，习惯SQL的Hadoop有开源工具hive代替。Hadoop就是一个分布式计算的解决方案。</p>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://tech.meituan.com/hadoop-security-practice.html">https://tech.meituan.com/hadoop-security-practice.html</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/33525241">https://zhuanlan.zhihu.com/p/33525241</a></li>
<li><a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/85343">https://www.anquanke.com/post/id/85343</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudera.com/documentation/cdh/5-0-x/CDH5-Security-Guide/cdh5sg_hadoop_security_intro.html">https://www.cloudera.com/documentation/cdh/5-0-x/CDH5-Security-Guide/cdh5sg_hadoop_security_intro.html</a></li>
</ul>
<h3 id="-42"><a href="#-42" class="headerlink" title=""></a></h3><h3 id="2-7-3-Hive"><a href="#2-7-3-Hive" class="headerlink" title="2.7.3 Hive"></a><strong>2.7.3 Hive</strong></h3><p>Hive是Hadoop家族中一款数据仓库产品，Hive最大的特点就是提供了类SQL的语法，封装了底层的MapReduce过程，让有SQL基础的业务人员，也可以直接利用Hadoop进行大数据的操作。</p>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cwiki.apache.org/confluence/display/Hive/Security">https://cwiki.apache.org/confluence/display/Hive/Security</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yejibigdata/p/6394719.html">https://www.cnblogs.com/yejibigdata/p/6394719.html</a></li>
</ul>
<h3 id="-43"><a href="#-43" class="headerlink" title=""></a></h3><h3 id="2-7-4-Sqoop"><a href="#2-7-4-Sqoop" class="headerlink" title="2.7.4 Sqoop"></a><strong>2.7.4 Sqoop</strong></h3><p>Apache Sqoop（SQL-to-Hadoop） 项目旨在协助 RDBMS 与 Hadoop 之间进行高效的大数据交流。用户可以在 Sqoop 的帮助下，轻松地把关系型数据库的数据导入到 Hadoop 与其相关的系统 (如HBase和Hive)中；同时也可以把数据从 Hadoop 系统里抽取并导出到关系型数据库里。除了这些主要的功能外，Sqoop 也提供了一些诸如查看数据库表等实用的小工具。</p>
<p>参考</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://sqoop.apache.org/docs/1.99.7/security.html">https://sqoop.apache.org/docs/1.99.7/security.html</a></li>
</ul>
<h3 id="-44"><a href="#-44" class="headerlink" title=""></a></h3><h3 id="2-7-5-HBase"><a href="#2-7-5-HBase" class="headerlink" title="2.7.5 HBase"></a><strong>2.7.5 HBase</strong></h3><p>HBase建立在HDFS之上，提供高可靠性、高性能、列存储、可伸缩、实时读写的数据库系统。它介于NoSQL和RDBMS之间，仅能通过行键(row key)和行键序列来检索数据，仅支持单行事务(可通过Hive支持来实现多表联合等复杂操作)。主要用来存储非结构化和半结构化的松散数据。与Hadoop一样，HBase目标主要依靠横向扩展，通过不断增加廉价的商用服务器，来增加计算和存储能力。</p>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cloudera.com/documentation/enterprise/5-6-x/topics/admin_hbase_security.html">https://www.cloudera.com/documentation/enterprise/5-6-x/topics/admin_hbase_security.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.cloudera.com/documentation/cdh/5-1-x/CDH5-Security-Guide/cdh5sg_hbase_security.html">http://www.cloudera.com/documentation/cdh/5-1-x/CDH5-Security-Guide/cdh5sg_hbase_security.html</a></li>
</ul>
<h3 id="-45"><a href="#-45" class="headerlink" title=""></a></h3><h3 id="2-7-6-Spark"><a href="#2-7-6-Spark" class="headerlink" title="2.7.6 Spark"></a><strong>2.7.6 Spark</strong></h3><p>Spark是UC Berkeley AMP lab所开源的类Hadoop MapReduce的通用的并行计算框架，Spark基于map reduce算法实现的分布式计算，拥有Hadoop MapReduce所具有的优点；但不同于MapReduce的是Job中间输出和结果可以保存在内存中，从而不再需要读写HDFS。参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://cwiki.apachecn.org/pages/viewpage.action?pageId=2887905">http://cwiki.apachecn.org/pages/viewpage.action?pageId=2887905</a></li>
</ul>
<h1 id="三、提权权限维持"><a href="#三、提权权限维持" class="headerlink" title="三、提权权限维持"></a><strong>三、提权权限维持</strong></h1><h2 id="3-1-提权"><a href="#3-1-提权" class="headerlink" title="3.1 提权"></a><strong>3.1 提权</strong></h2><p>SecWiki 总结了：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/SecWiki/windows-kernel-exploits">https://github.com/SecWiki/windows-kernel-exploits</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/SecWiki/linux-kernel-exploits">https://github.com/SecWiki/linux-kernel-exploits</a></li>
</ul>
<h2 id="3-2建立后门-端口转发"><a href="#3-2建立后门-端口转发" class="headerlink" title="3.2建立后门/端口转发"></a><strong>3.2建立后门/端口转发</strong></h2><p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.zerokeeper.com/experience/network-port-forwarding-and-penetration.html">http://www.zerokeeper.com/experience/network-port-forwarding-and-penetration.html</a></li>
<li><a target="_blank" rel="noopener" href="https://1sparrow.com/2018/01/20/%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E6%80%BB%E7%BB%93/">https://1sparrow.com/2018/01/20/%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E6%80%BB%E7%BB%93/</a></li>
<li><a target="_blank" rel="noopener" href="http://drops.xmd5.com/static/drops/tools-15000.html">http://drops.xmd5.com/static/drops/tools-15000.html</a></li>
</ul>
<p><strong>端口转发及代理类工具</strong></p>
<ul>
<li>LCX：windows下面的端口转发软件。</li>
<li>sockscap：主要针对windows平台的端口转发和代理转发。</li>
<li>proxifier：跨平台的端口转发和代理工具，适用windows，linux， Macos平台，代理转发利器</li>
<li>Rsscoks：＊nix平台下的端口转发和代理工具，配合proxychains好用 到不行。</li>
<li>Proxychains：＊nix平台下老牌的socks代理工具，一般的系统都会自 带，谁用谁知道。</li>
<li>ssh proxy：通过ssh做端口代理和转发，一般＊nix系统都自带。</li>
<li>netcat：socat，hping，在很多情况下可以做端口转发和数据代理转 发。</li>
<li>metasploit：metasploit的后渗透模块中有不少代理模块和端口转发 模块。</li>
</ul>
<p>在中转服务器上下载端口转发工具（加密压缩）：</p>
<ul>
<li>能连接互联网下载</li>
<li>通过 mstsc 的磁盘加载</li>
<li>通过入口服务器中转</li>
<li>通过远程控制软件上传</li>
</ul>
<h2 id="-46"><a href="#-46" class="headerlink" title=""></a></h2><h2 id="3-3-传输文件"><a href="#3-3-传输文件" class="headerlink" title="3.3 传输文件"></a><strong>3.3 传输文件</strong></h2><h3 id="3-3-1-文件打包"><a href="#3-3-1-文件打包" class="headerlink" title="3.3.1 文件打包"></a><strong>3.3.1 文件打包</strong></h3><p>关于打包</p>
<ul>
<li><p>Rar文件打包，压缩d:\data\目录下所有2013-01-01后修改的doc文件，100M/包密码为Pass，-x为排除选项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rar.exe a–r –v100m new.rar –ta20130101000000 –hpPass –n*.doc –x*.exe d:\data\</span><br></pre></td></tr></table></figure></li>
<li><p>7z加密，压缩d:\data下所有文件，密码为Pass，分卷100M/包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7z.exe a c:\xx.7z -pPass -mhe d:\data -v100m</span><br></pre></td></tr></table></figure></li>
<li><p>Linux用 tar 打包文件是可以加密码，要跟openssl结合使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf - pma|openssl des3 -salt -k password | dd of=pma.des3</span><br></pre></td></tr></table></figure></li>
<li><ul>
<li><p>使用 tar 对加密文件解压：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd if=pma.des3 |openssl des3 -d -k password|tar zxf -</span><br></pre></td></tr></table></figure>

<p>### 3.4.2 文件传输 几个思路</p>
</li>
</ul>
</li>
<li><p>使用端口转发直接传送数据；</p>
</li>
<li><p>搭建 FTP、HTTP 协议；</p>
</li>
<li><p>上传到云端再下载；</p>
</li>
</ul>
<h2 id="-47"><a href="#-47" class="headerlink" title=""></a></h2><h2 id="3-4-制作后门-木马程序"><a href="#3-4-制作后门-木马程序" class="headerlink" title="3.4 制作后门/木马程序"></a><strong>3.4 制作后门/木马程序</strong></h2><p>一般用Matisploit 的 msfvenom，使用参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/rapid7/metasploit-framework/wiki/How-to-use-msfvenom">https://github.com/rapid7/metasploit-framework/wiki/How-to-use-msfvenom</a></li>
<li><a target="_blank" rel="noopener" href="https://www.offensive-security.com/metasploit-unleashed/msfvenom/">https://www.offensive-security.com/metasploit-unleashed/msfvenom/</a></li>
</ul>
<p>SET 也可以生成后门程序，另外也可以关注一下最新的 Office、PDF 的漏洞</p>
<h1 id="-48"><a href="#-48" class="headerlink" title=""></a></h1><h1 id="四、日志清理"><a href="#四、日志清理" class="headerlink" title="四、日志清理"></a><strong>四、日志清理</strong></h1><p><strong>在做日志清理前需要了解以下的内容：</strong></p>
<ul>
<li>攻击和入侵很难完全删除痕迹，没有日志记录本身就是一种入侵特征；</li>
<li>删除或清理入侵系统的本地日志不代表删除了痕迹，在网络设备、安全设备、集中化日志系统上仍然留存记录；</li>
<li>留存的后门本身会有攻击者的信息；</li>
<li>使用的代理或跳板可能会被反向入侵;</li>
<li>在操作前检查是否有管理员登录；</li>
<li>删除上传的工具，使用磁盘覆写的功能删除；</li>
</ul>
<p><strong>Windows日志类型</strong></p>
<ul>
<li>web日志：IIS、Apache以及其它web日志</li>
<li>操作日志：3389登录列表、最近访问文件、IE等浏览 器访问日志、文件访问日志</li>
<li>登陆日志：系统应用日志-安全日志等</li>
<li>攻击前和状态还原，尽量保持一致</li>
</ul>
<p><strong>Linux操作日志</strong></p>
<ul>
<li><p>Linux历史操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset HISTORY HISTFILE HISTSAVE HISTZONE HISTORY HISTLOG; export HISTFILE=/dev/null;</span><br></pre></td></tr></table></figure></li>
<li><p>SSHD登陆记录 删除~/.ssh/known_hosts中记录</p>
</li>
<li><p>修改文件时间戳 touch –r 原文件要修改文件</p>
</li>
<li><p>删除临时使用文件，尤其是tmp目录</p>
</li>
<li><p>logtamper</p>
</li>
</ul>
<h1 id="-49"><a href="#-49" class="headerlink" title=""></a></h1><h1 id="5-工具和其他"><a href="#5-工具和其他" class="headerlink" title="5 工具和其他"></a><strong>5 工具和其他</strong></h1><ol>
<li><p>内网使用工具渗透的一些原则</p>
</li>
<li><ul>
<li><p>使用适合自己的工具，工具没必要收集太多，够用就行；</p>
</li>
<li><p>能根据实际情况编写适用的工具；</p>
</li>
<li><p>不能确保安全的工具均要在虚拟机中运行（很 多捆绑病毒木马）；</p>
</li>
<li><p>做安全检查的话，尽量使用 GitHub 上开源的工具。</p>
</li>
</ul>
</li>
<li><p>工具介绍 个人习惯使用 kali 自带工具，特定 POC 先从 Github 上搜索。推荐一个工具介绍的网站：<a target="_blank" rel="noopener" href="https://www.kitploit.com/">https://www.kitploit.com/</a></p>
</li>
<li><p>渗透注意事项</p>
</li>
<li><ul>
<li>检查内网监控防范系统</li>
<li>谨慎使用ARP软件和大面积扫描软件</li>
<li>使用目标网络中无空闲机器，作为打包对象</li>
<li>使用内网大流量机器作为传输对象，如wsus服务 器、视频会议系统</li>
<li>使用临时机器打包、数据传输，不要使用已控机器，可利用wmi脚本或wmic远程操作 渗透注意事项</li>
<li>禁止使用psexec.exe</li>
<li>打包时避开用户工作时间</li>
<li>控制卷包大小&lt;100M</li>
<li>选择用户常用压缩软件</li>
<li>错峰下载数据</li>
<li>控制传输流量</li>
<li>清除所有操作日志</li>
<li>登录主机前先看看管理员是否在</li>
</ul>
</li>
</ol>

        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "http://example.com/2023/01/13/%E4%B8%AA%E4%BA%BA%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "http://example.com/2023/01/13/%E4%B8%AA%E4%BA%BA%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/";
            const title         = "「个人渗透测试常用方法总结」";
            const excerpt       = `一、渗透流程

信息收集
漏洞验证/漏洞攻击
提权，权限维持
日志清理

信息收集一般先运行端口扫描和漏洞扫描获取可以利用的漏洞。多利用搜索引擎
端口扫描有授权的情况下直接使用 nmap 、masscan 、自己写py脚本等端口扫描工...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    
                </div>
                <div class="pull-date">
                <span>最后编辑：2023-01-13</span>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" ~Windows10 Penetration Suite Toolkit within Kali Linux v4.0~" href="/2022/12/09/Windows10-Penetration-Suite-Toolkit-within-Kali-Linux-v4-0/">&lt; 上一篇</a>
            </div>
            
            
        </nav>
    
    
        <div id="disqus_thread" class="post-comments lazy-load"></div>

<script>
    var disqus_config = function () {
        this.page.url = 'http://example.com/2023/01/13/%E4%B8%AA%E4%BA%BA%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = '2023/01/13/个人渗透测试常用方法总结/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    var load_comm = () => {
        if (typeof DISQUS == 'undefined') {
            var d = document, s = d.createElement('script');
            s.src = 'https://.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        } else {
            DISQUS.reset({
                reload: true,
                config: function () {  
                    this.page.url = 'http://example.com/2023/01/13/%E4%B8%AA%E4%BA%BA%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/';  // Replace PAGE_URL with your page's canonical URL variable
                    this.page.identifier = '2023/01/13/个人渗透测试常用方法总结/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                }
            });
        }
    };
    
</script>
<script async id="dsq-count-scr" src="//.disqus.com/count.js"></script>

<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/touxiang.webp" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center"></p>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                    <aside id="krw-toc" class="widget widget-kratos-toc clearfix">
    <div class="photo-background"></div>
    <h4 class="widget-title no-after">
        <i class="fa fa-compass"></i>
        文章目录
        <span class="toc-progress-bar"></span>
    </h4>
    <div class="textwidget">
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F"><span class="toc-text">端口扫描</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-1"><span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F"><span class="toc-text">漏洞扫描</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-2"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%BC%8F%E6%B4%9E%E6%94%BB%E5%87%BB"><span class="toc-text">二、漏洞攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Web%E5%BA%94%E7%94%A8"><span class="toc-text">2.1 Web应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-3"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-Web-%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-text">2.1.2 Web 中间件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89Tomcat"><span class="toc-text">（1）Tomcat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-4"><span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89-Jboss"><span class="toc-text">（2） Jboss</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-5"><span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89WebLogic"><span class="toc-text">（3）WebLogic</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-6"><span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89-WebSphere"><span class="toc-text">（4） WebSphere</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89-Glassfish"><span class="toc-text">（5） Glassfish</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-7"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-Web-%E6%A1%86%E6%9E%B6"><span class="toc-text">2.1.3 Web 框架</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89-Struts2"><span class="toc-text">（1） Struts2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-8"><span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89Spring-%E6%A1%86%E6%9E%B6"><span class="toc-text">（2）Spring 框架</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-9"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-4-Web-%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">2.1.4 Web 服务器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%B8%B8%E8%A7%81%E8%BF%90%E7%BB%B4%E7%B3%BB%E7%BB%9F"><span class="toc-text">2.2 常见运维系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-Gitlab"><span class="toc-text">2.2.1 Gitlab</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-10"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-Jenkins"><span class="toc-text">2.2.2 Jenkins</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-11"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-Puppet"><span class="toc-text">2.2.3 Puppet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-12"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-Ansible"><span class="toc-text">2.2.4 Ansible</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-13"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-5-Nagios"><span class="toc-text">2.2.5 Nagios</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-14"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-6-Zabbix"><span class="toc-text">2.2.6 Zabbix</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-15"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-7-Cacit"><span class="toc-text">2.2.7 Cacit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-16"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-8-Splunk"><span class="toc-text">2.2.8 Splunk</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-17"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E5%B8%B8%E8%A7%81-Web-%E5%BA%94%E7%94%A8"><span class="toc-text">2.3 常见 Web 应用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-%E9%82%AE%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-text">2.3.1 邮件系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-18"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-CMS-%E5%BA%94%E7%94%A8"><span class="toc-text">2.3.2 CMS 应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-19"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E6%95%B0%E6%8D%AE%E5%BA%93-%E7%BC%93%E5%AD%98-%E6%B6%88%E6%81%AF%E6%9C%8D%E5%8A%A1"><span class="toc-text">2.4 数据库&#x2F;缓存&#x2F;消息服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.4.1 MySQL数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-20"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-MSSQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.4.2 MSSQL数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-21"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3-Oracle%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.4.3 Oracle数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-22"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-4-PostgreSQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.4.4 PostgreSQL数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-23"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-5-MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.4.5 MongoDB数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-24"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-6-Redis%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.4.6 Redis数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-25"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-7-SysBase%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.4.7 SysBase数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-26"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-8-DB2-%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.4.8 DB2 数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-27"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1-%E5%8D%8F%E8%AE%AE"><span class="toc-text">2.5 常见服务&#x2F;协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-FTP-%E6%9C%8D%E5%8A%A1"><span class="toc-text">2.5.1 FTP 服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-28"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2-NFS-%E6%9C%8D%E5%8A%A1"><span class="toc-text">2.5.2 NFS 服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-29"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-3-Samba%E6%9C%8D%E5%8A%A1"><span class="toc-text">2.5.3 Samba服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-30"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-4-SSH-%E6%9C%8D%E5%8A%A1"><span class="toc-text">2.5.4 SSH 服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-31"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-5-Telnet-%E6%9C%8D%E5%8A%A1"><span class="toc-text">2.5.5 Telnet 服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-32"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-6-Windows-%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="toc-text">2.5.6 Windows 远程连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-33"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-7-VNC%E6%9C%8D%E5%8A%A1"><span class="toc-text">2.5.7 VNC服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-34"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-8-SMTP%E5%8D%8F%E8%AE%AE"><span class="toc-text">2.5.8 SMTP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-35"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-9-POP3%E5%8D%8F%E8%AE%AE"><span class="toc-text">2.5.9 POP3协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-36"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-10-DNS%E6%9C%8D%E5%8A%A1"><span class="toc-text">2.5.10 DNS服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-37"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-11-IMAP%E5%8D%8F%E8%AE%AE"><span class="toc-text">2.5.11 IMAP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-38"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-12-SNMP%E5%8D%8F%E8%AE%AE"><span class="toc-text">2.5.12 SNMP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-39"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-13-DHCP%E6%9C%8D%E5%8A%A1"><span class="toc-text">2.5.13 DHCP服务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E4%BA%91%E7%8E%AF%E5%A2%83"><span class="toc-text">2.6 云环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-1-VMware"><span class="toc-text">2.6.1 VMware</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-40"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-2-OpenStack"><span class="toc-text">2.6.2 OpenStack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-3-Docker"><span class="toc-text">2.6.3 Docker</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-%E5%A4%A7%E6%95%B0%E6%8D%AE"><span class="toc-text">2.7 大数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-1-Elsaticsearch"><span class="toc-text">2.7.1 Elsaticsearch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-41"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-2-hadoop"><span class="toc-text">2.7.2 hadoop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-42"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-3-Hive"><span class="toc-text">2.7.3 Hive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-43"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-4-Sqoop"><span class="toc-text">2.7.4 Sqoop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-44"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-5-HBase"><span class="toc-text">2.7.5 HBase</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-45"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-6-Spark"><span class="toc-text">2.7.6 Spark</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%8F%90%E6%9D%83%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81"><span class="toc-text">三、提权权限维持</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E6%8F%90%E6%9D%83"><span class="toc-text">3.1 提权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2%E5%BB%BA%E7%AB%8B%E5%90%8E%E9%97%A8-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91"><span class="toc-text">3.2建立后门&#x2F;端口转发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-46"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6"><span class="toc-text">3.3 传输文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-1-%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85"><span class="toc-text">3.3.1 文件打包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-47"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E5%88%B6%E4%BD%9C%E5%90%8E%E9%97%A8-%E6%9C%A8%E9%A9%AC%E7%A8%8B%E5%BA%8F"><span class="toc-text">3.4 制作后门&#x2F;木马程序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-48"><span class="toc-text"></span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%97%A5%E5%BF%97%E6%B8%85%E7%90%86"><span class="toc-text">四、日志清理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-49"><span class="toc-text"></span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E5%B7%A5%E5%85%B7%E5%92%8C%E5%85%B6%E4%BB%96"><span class="toc-text">5 工具和其他</span></a>
    </div>
</aside>
                
                
  <aside id="krw-categories" class="widget widget-kratos-categories clearfix">
    <h4 class="widget-title"><i class="fa fa-folder"></i>分类目录</h4>
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CTF/">CTF</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%B8%B8/">日常</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B8%97%E9%80%8F/">渗透</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%BC%8F%E6%B4%9E/">漏洞</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%93%9D%E9%98%9F/">蓝队</a><span class="category-list-count">1</span></li></ul>
  </aside>


            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4>
      <div class="tag-clouds">
        <a href="/tags/Apache-2-4-49/" style="font-size: 0.6em;">Apache 2.4.49</a> <a href="/tags/Spring-Boot/" style="font-size: 0.6em;">Spring Boot</a> <a href="/tags/Struts2%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E6%80%BB%E7%BB%93/" style="font-size: 0.6em;">Struts2漏洞复现总结</a> <a href="/tags/iis/" style="font-size: 0.6em;">iis</a> <a href="/tags/log4j/" style="font-size: 0.6em;">log4j</a> <a href="/tags/sql-%E6%B3%A8%E5%85%A5/" style="font-size: 0.6em;">sql 注入</a> <a href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" style="font-size: 0.6em;">信息收集</a> <a href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" style="font-size: 0.6em;">文件上传</a> <a href="/tags/%E6%BA%AF%E6%BA%90/" style="font-size: 0.6em;">溯源</a> <a href="/tags/%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F/" style="font-size: 0.6em;">漏洞扫描</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/2023/01/13/%E4%B8%AA%E4%BA%BA%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/"><i class="fa  fa-book"></i> 个人渗透测试常用方法总结</a>
            
          
        
          
          
            <a class="list-group-item" href="/2022/12/09/Windows10-Penetration-Suite-Toolkit-within-Kali-Linux-v4-0/"><i class="fa  fa-book"></i> ~Windows10 Penetration Suite Toolkit within Kali Linux v4.0~</a>
            
          
        
          
          
            <a class="list-group-item" href="/2022/11/30/%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%E9%9D%B6%E6%9C%BA%E6%89%93%E9%9D%B6%E6%80%9D%E8%B7%AF%E4%B8%8E%E6%96%B9%E6%B3%95/"><i class="fa  fa-book"></i> 渗透学习靶机打靶思路与方法</a>
            
          
        
          
          
            <a class="list-group-item" href="/2022/11/02/%E8%84%9A%E6%9C%AC%E5%B0%8F%E5%AD%90%E5%A4%A9%E5%A0%82/"><i class="fa  fa-book"></i> 脚本小子天堂</a>
            
          
        
          
          
            <a class="list-group-item" href="/2022/09/29/HW%E8%93%9D%E9%98%9F%E6%BA%AF%E6%BA%90%E6%B5%81%E7%A8%8B%E8%AF%A6%E7%BB%86%E6%95%B4%E7%90%86%E5%88%86%E4%BA%AB/"><i class="fa  fa-book"></i> HW蓝队溯源流程详细整理分享</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://t.me/CandyUnion"><i class="fa fa-telegram"></i></a></li>
                        
                        
                        
                        <li><a target="_blank" rel="me" href="https://nya.one/@zr"><i class="fa fa fa-share-alt-square"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://github.com/zr-blog"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2023 Love is a Moment Story 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by zhang rui.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://zr-blog.github.io/" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>
<script>const notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));</script>


    <script async src="/js/candy.min.js"></script>



    <script defer src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="7026505671"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>


    <script defer src="/js/kr-dark.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>
</html>